{"version":3,"file":"409.bundle.js","mappings":"6qCA+BA,QAxBmB,WACjB,SAA4CA,EAAAA,EAAAA,eAE1CC,GAFF,GAAOC,EAAP,KAAuBC,EAAvB,KAGA,KAAkCH,EAAAA,EAAAA,WAAS,GAA3C,GAAOI,EAAP,KAAkBC,EAAlB,KACA,GAAsCC,EAAAA,EAAAA,IAAe,SAACC,GAAD,OAAWA,EAAMC,QAA9DC,EAAR,EAAQA,gBAAiBC,EAAzB,EAAyBA,SAgBzB,OAdAC,EAAAA,EAAAA,YAAU,WAERN,GAAa,GACbO,YAAW,WACTT,EACEU,EAAAA,EAAAA,cAA6B,CAC3BC,WAAYL,EAAgBM,OAAS,EAAIN,OAAkBR,EAC3De,WAAYN,EAASO,cAGzBZ,GAAa,KACE,EAAda,EAAAA,KACF,CAACT,EAAiBC,KAEd,SAACS,EAAA,EAAD,CAAiBC,YAAalB,EAAgBmB,OAAQjB,K,87BCsB/D,QAxCiB,WACf,SAA4CJ,EAAAA,EAAAA,eAE1CC,GAFF,GAAOqB,EAAP,KAAuBC,EAAvB,KAGA,KAAoCvB,EAAAA,EAAAA,WAAS,GAA7C,GAAOwB,EAAP,KAAmBC,EAAnB,KACA,GAIInB,EAAAA,EAAAA,IAAe,SAACC,GAAD,OAAWA,EAAMC,QAHlCC,EADF,EACEA,gBACMD,EAFR,EAEEkB,KACAhB,EAHF,EAGEA,SAkBF,OAfAC,EAAAA,EAAAA,YAAU,WAERc,GAAc,GACdb,YAAW,WACTW,EACEV,EAAAA,EAAAA,cAA6B,CAC3Bc,OAAQnB,EAAKoB,GACbd,WAAYL,EAAgBM,OAAS,EAAIN,OAAkBR,EAC3De,WAAYN,EAASO,cAGzBQ,GAAc,KACbP,EAAAA,KACF,CAACT,EAAiBD,EAAME,KAGzB,iCACE,SAACmB,EAAA,EAAD,KACEnB,EAASoB,eAAgB,SAAC,EAAD,KAC3B,SAACX,EAAA,EAAD,CACEC,YAAaE,EACbS,MAAM,iBACNV,OAAQG,KAEV,SAACQ,EAAA,EAAD","sources":["webpack://react-ts-scss-template/./src/pages/home/common/HomeCommon.tsx","webpack://react-ts-scss-template/./src/pages/home/HomePage.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { initiativesAPI } from \"../../../API-data/iniitiatives/inititiativesAPI\";\r\nimport InitiativesList from \"../../../components/InitiativesList/InitiativesList\";\r\nimport { useAppSelector } from \"../../../hooks/redux\";\r\nimport { InitiativeCardData } from \"../../../types/initiative\";\r\nimport { TIMEOUT_API } from \"../../../utils/constants\";\r\n\r\nconst HomeCommon = () => {\r\n  const [allInitiatives, setAllInitiatives] = useState<\r\n    InitiativeCardData[] | undefined\r\n  >(undefined);\r\n  const [allLoaded, setAllLoaded] = useState(false);\r\n  const { user_categories, settings } = useAppSelector((state) => state.user);\r\n\r\n  useEffect(() => {\r\n    // API: get all initiatives\r\n    setAllLoaded(true);\r\n    setTimeout(() => {\r\n      setAllInitiatives(\r\n        initiativesAPI.getIntiatives({\r\n          categories: user_categories.length > 0 ? user_categories : undefined,\r\n          has_closed: settings.showClosed,\r\n        })\r\n      );\r\n      setAllLoaded(false);\r\n    }, TIMEOUT_API * 2);\r\n  }, [user_categories, settings]);\r\n\r\n  return <InitiativesList initiatives={allInitiatives} loaded={allLoaded} />;\r\n};\r\n\r\nexport default HomeCommon;\r\n","import { useEffect, useState } from \"react\";\r\nimport { initiativesAPI } from \"../../API-data/iniitiatives/inititiativesAPI\";\r\nimport CategoriesSwitcher from \"../../components/CategoriesSwitcher/CategoriesSwitcher\";\r\nimport CreateInitiativeButton from \"../../components/CreateInitiativeButton/CreateInitiativeButton\";\r\nimport InitiativesList from \"../../components/InitiativesList/InitiativesList\";\r\nimport { useAppSelector } from \"../../hooks/redux\";\r\nimport { InitiativeCardData } from \"../../types/initiative\";\r\nimport { TIMEOUT_API } from \"../../utils/constants\";\r\nimport HomeCommon from \"./common/HomeCommon\";\r\n\r\nconst HomePage = () => {\r\n  const [userInitatives, setUserInitatives] = useState<\r\n    InitiativeCardData[] | undefined\r\n  >(undefined);\r\n  const [userLoaded, setUserLoaded] = useState(false);\r\n  const {\r\n    user_categories,\r\n    data: user,\r\n    settings,\r\n  } = useAppSelector((state) => state.user);\r\n\r\n  useEffect(() => {\r\n    // API: get user initiatives\r\n    setUserLoaded(true);\r\n    setTimeout(() => {\r\n      setUserInitatives(\r\n        initiativesAPI.getIntiatives({\r\n          userId: user.id,\r\n          categories: user_categories.length > 0 ? user_categories : undefined,\r\n          has_closed: settings.showClosed,\r\n        })\r\n      );\r\n      setUserLoaded(false);\r\n    }, TIMEOUT_API);\r\n  }, [user_categories, user, settings]);\r\n\r\n  return (\r\n    <>\r\n      <CategoriesSwitcher />\r\n      {!settings.showOnlyMine && <HomeCommon />}\r\n      <InitiativesList\r\n        initiatives={userInitatives}\r\n        title=\"Мои инициативы\"\r\n        loaded={userLoaded}\r\n      />\r\n      <CreateInitiativeButton />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default HomePage;\r\n"],"names":["useState","undefined","allInitiatives","setAllInitiatives","allLoaded","setAllLoaded","useAppSelector","state","user","user_categories","settings","useEffect","setTimeout","initiativesAPI","categories","length","has_closed","showClosed","TIMEOUT_API","InitiativesList","initiatives","loaded","userInitatives","setUserInitatives","userLoaded","setUserLoaded","data","userId","id","CategoriesSwitcher","showOnlyMine","title","CreateInitiativeButton"],"sourceRoot":""}